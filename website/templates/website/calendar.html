{% extends "website/base.html" %}
{% load static %}

{% block head %}
  <link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.print.css" media='print'
        rel="stylesheet">
  <link href="{% static "website/css/materialFullCalendar.css" %}" rel="stylesheet"/>
{% endblock %}

{% block extra_js %}
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js" type='text/javascript'></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/locale/nb.js"></script>
  <script src="{% static "website/js/gcal.js" %}" type='text/javascript'></script>
{% endblock %}

{% block content %}
  <main>
    <div class="section no-pad-bot" id="index-banner">
      <div class="container">
        <div class="row">
          <div class="col m12 s12 l12">
            <h1 style="font-weight:300;">Kommende datoer</h1>
            <div class="card">
              <div class="card-content">
                <p class="flow-text">
                  Her er datoene for ting du må få med deg i Hackerspace!
                  <b><a href="mailto:hackerspace-styret@idi.ntnu.no"><br>
                    Ta kontakt</a></b> ved feil og mangler
                </p>
              </div>
            </div>
            <div class="card">
              <div class="card-content">
                <div id='calendar'></div>

                <div class="card-action">
                  <div class="left-align">
                    <a href="https://calendar.google.com/calendar/ical/phjm7kl6q8sektroq7gqmjq0ko%40group.calendar.google.com/public/basic.ics" class="hs-green">Kalenderfeed</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
{% endblock content %}

{% block footer_script %}
  <script type='text/javascript'>
      $(document).ready(function () {
          $('#calendar').fullCalendar({
              googleCalendarApiKey: 'AIzaSyBRkX3I40ar5skqEyVuzuDbugzTBhJsWPE',
              events: {
                  googleCalendarId: 'phjm7kl6q8sektroq7gqmjq0ko@group.calendar.google.com'
              },
              editable: false, // Don't allow editing of events
              handleWindowResize: true,
              displayEventTime: true, // Display event time
              displayEventEnd: true,
              timeFormat: 'H:mm',
              locale: 'nb',
              monthNames: ['Januar', 'Februar', 'Mars', 'April', 'Mai', 'Juni', 'Juli',
                           'August', 'September', 'Oktober', 'November', 'Desember'],
              height: 'auto'
          });
      });
  </script>
{% endblock footer_script %}
